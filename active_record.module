<?php 
/**
 * Functionally, this drupal module provides an Active Record style way of accessing drupal objects.
 * It also provides more complicated functionality, as versionable custom objects, and a search-builder.
 * @author Matthew Baggett <matthew@baggett.me>
 */

require_once("src/ActiveRecord/pretty_print_json.inc");

// Load core of Active Record module.
require_once("src/ActiveRecord/active_record.php");
require_once("src/ActiveRecord/versioned_active_record.php");

// Load searcher
require_once("src/ActiveRecord/search.php");
require_once("src/ActiveRecord/search_condition.php");

// Load dumb modeler
require_once("src/ActiveRecord/dumb_model.php");

// Load core Models
require_once("models/role.inc");
require_once("models/user_role.inc");
require_once("models/user.inc");

function active_record_permission() {
	return array(
		"version control"			=> array('title' => "Have Version Control"),
	);
}

function active_record_has_version_permission(){
	return active_record_check_permission('version control');
}

function active_record_check_permission($permission){
	global $user;
	return user_access($permission, $user);
}
